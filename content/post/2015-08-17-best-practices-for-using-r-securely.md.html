---
title: Best Practices for Using R Securely
author: R Consortium
date: '2015-08-17'
categories:
  - Blog
slug: best-practices-for-using-r-securely
---



<p>[vc_row type=“in_container” full_screen_row_position=“middle” scene_position=“center” text_color=“dark” text_align=“left” overlay_strength=“0.3”][vc_column column_padding=“no-extra-padding” column_padding_position=“all” background_color_opacity=“1” background_hover_color_opacity=“1” width=“1/1” tablet_text_alignment=“default” phone_text_alignment=“default”][vc_column_text]The R Consortium was formed to serve the interests of the R user community, and to that end the members of the R Consortium would like to share some best practices for using R securely and safely. These recommendations are not unique to R: you should follow similar practices for any software you download from the Internet.</p>
<p>If you download R (or R packages) using an unencrypted Internet connection, there is a possibility that a malicious actor could modify the code in transit (or substitute their own file), if they have access to the connection linking you and the CRAN server delivering the code. (This is possible, for example, when you download R using an unsecured Wi-Fi network.) This could potentially give an attacker the same rights you have to execute code on your system.</p>
<p>To eliminate the possibility of such an attack, the R Consortium recommends all R users to always download R and R packages using an encrypted HTTPS connection from a secure server. This document describes steps you can take to configure your existing or new R installations to adhere to best practices for secure R use.</p>
<p><strong>1. Always download R installers from a CRAN server using HTTPS</strong></p>
<p>Every time you download R, make sure you are connected to the download site using a secure HTTPS connection. Check that the URL of the web page you are using to download R begins with “<a href="https://" class="uri">https://</a>” (<em>not</em> “<a href="http://" class="uri">http://</a>”) and that your browser reports the site to be secure. (Here are some ways you can check: <a href="http://info.ssl.com/article.aspx?id=10068" class="uri">http://info.ssl.com/article.aspx?id=10068</a>.)</p>
<p>If you are downloading R from CRAN, the following CRAN mirrors support HTTPS and we recommend using one of them:</p>
<ul>
<li><p>CRAN master (Austria): <a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a></p></li>
<li><p>RStudio (USA): <a href="https://cran.rstudio.com/" class="uri">https://cran.rstudio.com/</a></p></li>
<li><p>Revolution Analytics (USA): <a href="https://cran.revolutionanalytics.com/" class="uri">https://cran.revolutionanalytics.com/</a></p></li>
<li><p>China (Beijing) : <a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/" class="uri">https://mirrors.tuna.tsinghua.edu.cn/CRAN/</a></p></li>
<li><p>China (Hefei) : <a href="https://mirrors.ustc.edu.cn/CRAN/" class="uri">https://mirrors.ustc.edu.cn/CRAN/</a></p></li>
<li><p>Columbia (Cali) : <a href="https://www.icesi.edu.co/CRAN/" class="uri">https://www.icesi.edu.co/CRAN/</a></p></li>
<li><p>France: <a href="https://mirror.ibcp.fr/pub/CRAN/" class="uri">https://mirror.ibcp.fr/pub/CRAN/</a></p></li>
<li><p>Russia: <a href="https://cran.gis-lab.info/" class="uri">https://cran.gis-lab.info/</a></p></li>
<li><p>Switzerland: <a href="https://stat.ethz.ch/CRAN/" class="uri">https://stat.ethz.ch/CRAN/</a></p></li>
<li><p>UK (Bristol): <a href="https://www.stats.bris.ac.uk/R/" class="uri">https://www.stats.bris.ac.uk/R/</a></p></li>
<li><p>UK (EMBL-EBI): <a href="https://mirrors.ebi.ac.uk/CRAN/" class="uri">https://mirrors.ebi.ac.uk/CRAN/</a></p></li>
<li><p>USA (Berkeley): <a href="https://cran.cnr.berkeley.edu/">https://cran.cnr.Berkeley.edu/</a></p></li>
<li><p>USA (KS): <a href="https://rweb.quant.ku.edu/cran/" class="uri">https://rweb.quant.ku.edu/cran/</a></p></li>
<li><p>USA (MI): <a href="https://cran.mtu.edu/" class="uri">https://cran.mtu.edu/</a></p></li>
<li><p>USA (TN): <a href="https://mirrors.nics.utk.edu/cran/" class="uri">https://mirrors.nics.utk.edu/cran/</a></p></li>
<li><p>USA (WA): <a href="https://cran.fhcrc.org/" class="uri">https://cran.fhcrc.org/</a></p></li>
</ul>
<p>The above list is complete as of August 12, 2015. Check the <a href="https://cran.r-project.org/mirrors.html">list of CRAN Mirrors</a> for other HTTPS mirrors added since then.</p>
<p><strong>2. Check the MD5 checksums of R before you begin the installation.</strong></p>
<p>When you download R, the same webpage should also provide the “md5 checksum” for the installation. (It will be a long string of letters and digits. Here’s an example — but remember, it will be different for every version of R: 9578948a99ee6b74ff10b71b0891b94c.) After you download the file to install R, you should generate another md5 checksum for the file you downloaded, and make sure it matches the checksum provided on the download site. (Here are instructions for doing so on <a href="http://support.microsoft.com/kb/889768">Windows</a>, <a href="http://askubuntu.com/questions/61826/how-do-i-check-the-sha1-hash-of-a-file">Linux</a>, and <a href="https://support.apple.com/en-us/HT201259">Mac OS X</a>). If the checksums do not match, do not install R using that file.</p>
<p><strong>3. Configure R for secure file downloads</strong></p>
<p>When downloading files over the Internet (including R packages), R must be configured such that a secure, HTTPS-enabled web server may be used. To configure R appropriately, add code to your .Rprofile or Rprofile.site file. The instructions vary depending on the version of R and operating system you use. Note that this is the default configuration for R 3.2.2, so <strong>you do not need to take any action for R 3.2.2 or any later version of R</strong>.</p>
<p><strong>R 3.2.0 and R 3.2.1</strong></p>
<p><em>Windows</em>:</p>
<p>options(download.file.method = “wininet”)</p>
<p><em>OS X and Linux</em>:</p>
<p>options(download.file.method = “libcurl”)</p>
<p><strong>R 3.1 and earlier</strong></p>
<p><em>Windows</em>:</p>
<p>utils::setInternet2(TRUE)</p>
<p>options(download.file.method = “internal”)</p>
<p><em>OS X</em>:</p>
<p>options(download.file.method = “curl”)</p>
<p><em>Linux</em>:</p>
<p>options(download.file.method = “wget”)</p>
<p><strong>4. Always download CRAN packages from a secure mirror</strong></p>
<p>The same cautions apply to R packages. Always make sure you are using a CRAN mirror that supports HTTPS, such as one from the list given in point 1 above.</p>
<p>To configure R to automatically use a secure mirror, add the following code to your .Rprofile or Rprofile.site file, using the mirror of your choice (beginning with “<a href="https://" class="uri">https://</a>”) in the first line.</p>
<p>securemirror &lt;- “<a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a>”</p>
<p>local({</p>
<p>r &lt;- getOption(“repos”);</p>
<p>r[“CRAN”] &lt;- securemirror</p>
<p>options(repos=r)</p>
<p>})</p>
<p>Note that you do not need to check md5 sums for packages: R automatically checks md5 checksums before it installs any package.</p>
<p><strong>Summary</strong></p>
<p>With these simple steps, you can eliminate one vector of attack for a malicious actor who can intercept your communications. The R Consortium recommends all R users follow this practice.[/vc_column_text][/vc_column][/vc_row]</p>
